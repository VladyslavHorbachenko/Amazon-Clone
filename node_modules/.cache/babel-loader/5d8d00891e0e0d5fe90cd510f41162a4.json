{"ast":null,"code":"import _toConsumableArray from\"/Users/vladyslavhorbachenko/Desktop/amazon-clone/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/vladyslavhorbachenko/Desktop/amazon-clone/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import Product from\"./Product\";import React from\"react\";export var initialState={basket:[],user:null};export var getBasketTotal=function getBasketTotal(basket){return basket===null||basket===void 0?void 0:basket.reduce(function(amount,item){return item.price+amount+amount;},0);};var reducer=function reducer(state,action){console.log(action);switch(action.type){case\"SET_USER\":return _objectSpread(_objectSpread({},state),{},{user:action.user});case'ADD_TO_BASKET'://Logic for adding item to basket\nreturn _objectSpread(_objectSpread({},state),{},{basket:[].concat(_toConsumableArray(state.basket),[action.item])});break;case'REMOVER_FROM_BASKET'://Logic for Removing item from basket\nvar newBasket=_toConsumableArray(state.basket);var index=state.basket.findIndex(function(basketItem){return basketItem.id===action.id;});if(index>=0){//item exist in basket,remove it...\nnewBasket.splice(index,1);}else{console.log(\"can not remove\");}return _objectSpread(_objectSpread({},state),{},{basket:newBasket});default:return state;}};export default reducer;","map":{"version":3,"sources":["/Users/vladyslavhorbachenko/Desktop/amazon-clone/src/reducer.js"],"names":["Product","React","initialState","basket","user","getBasketTotal","reduce","amount","item","price","reducer","state","action","console","log","type","newBasket","index","findIndex","basketItem","id","splice"],"mappings":"6QAAA,MAAOA,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAGA,MAAO,IAAMC,CAAAA,YAAY,CAAG,CACxBC,MAAM,CAAC,EADiB,CAExBC,IAAI,CAAC,IAFmB,CAArB,CAKP,MAAO,IAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACF,MAAD,QAC1BA,CAAAA,MAD0B,SAC1BA,MAD0B,iBAC1BA,MAAM,CAAEG,MAAR,CAAe,SAACC,MAAD,CAAQC,IAAR,QAAiBA,CAAAA,IAAI,CAACC,KAAL,CAAaF,MAAb,CAAsBA,MAAvC,EAAf,CAA8D,CAA9D,CAD0B,EAAvB,CAGP,GAAMG,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAQC,MAAR,CAAoB,CAChCC,OAAO,CAACC,GAAR,CAAYF,MAAZ,EACA,OAAQA,MAAM,CAACG,IAAf,EACI,IAAK,UAAL,CACI,sCACOJ,KADP,MAEIP,IAAI,CAACQ,MAAM,CAACR,IAFhB,GAIJ,IAAK,eAAL,CACA;AACI,sCAAWO,KAAX,MACIR,MAAM,8BAAKQ,KAAK,CAACR,MAAX,GAAkBS,MAAM,CAACJ,IAAzB,EADV,GAGA,MACJ,IAAK,qBAAL,CACI;AACA,GAAIQ,CAAAA,SAAS,oBAAOL,KAAK,CAACR,MAAb,CAAb,CAEA,GAAMc,CAAAA,KAAK,CAAGN,KAAK,CAACR,MAAN,CAAae,SAAb,CAAuB,SAACC,UAAD,QAAgBA,CAAAA,UAAU,CAACC,EAAX,GAAkBR,MAAM,CAACQ,EAAzC,EAAvB,CAAd,CAEA,GAAIH,KAAK,EAAI,CAAb,CAAe,CACX;AACAD,SAAS,CAACK,MAAV,CAAiBJ,KAAjB,CAAuB,CAAvB,EACH,CAHD,IAGK,CACGJ,OAAO,CAACC,GAAR,CAAY,gBAAZ,EACP,CACD,sCAAWH,KAAX,MAAiBR,MAAM,CAACa,SAAxB,GACJ,QACI,MAAOL,CAAAA,KAAP,CA1BR,CA4BH,CA9BD,CA+BA,cAAeD,CAAAA,OAAf","sourcesContent":["import Product from \"./Product\";\nimport React from \"react\";\n\n\nexport const initialState = {\n    basket:[],\n    user:null\n};\n\nexport const getBasketTotal = (basket) =>\n    basket?.reduce((amount,item) => item.price + amount + amount, 0)\n\nconst reducer = (state, action) =>  {\n    console.log(action);\n    switch (action.type) {\n        case \"SET_USER\":\n            return {\n                ...state,\n                user:action.user\n            }\n        case 'ADD_TO_BASKET':\n        //Logic for adding item to basket\n            return {...state,\n                basket:[...state.basket,action.item]\n            };\n            break;\n        case 'REMOVER_FROM_BASKET':\n            //Logic for Removing item from basket\n            let newBasket = [...state.basket];\n\n            const index = state.basket.findIndex((basketItem) => basketItem.id === action.id);\n\n            if (index >= 0){\n                //item exist in basket,remove it...\n                newBasket.splice(index,1);\n            }else{\n                    console.log(\"can not remove\")\n            }\n            return {...state,basket:newBasket}\n        default:\n            return state\n    }\n}\nexport default reducer;"]},"metadata":{},"sourceType":"module"}